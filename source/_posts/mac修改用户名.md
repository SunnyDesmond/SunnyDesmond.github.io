---
title: mac修改用户名
date: 2018-06-22 09:14:59
keywords:
description:
tags: [mac]
categories: "mac"
---
## 不合理改名导致的问题

在不安分基因的驱动下，突然想改用了好几年的mac的用户名字。于是在`系统偏好设置`->`用户与群组`->右击当前的账号->`高级设置`->一顿改名操作后。。。
发现原来的管理权限没有了！！！改完名字之后变成了普通权限。再点解锁的时候。发现需要输入用户名，密码。。。是的，账号被锁住了。。。

## 解决办法

一顿搜索之后，发现这个操作比较完美，现在贴出来，留作纪念。

1. 重启电脑，重启的时候，在出现apple logo的时候按住 `command+s`
2. 不出意外的话，进入界面会变成terminal的状态
3. 输入命令 `/sbin/mount -uaw`  按回车 ps:注意中间的空格
4. `rm var/db/.AppleSetupDone` 按回车 ps:注意中间的空格
5. `reboot` 按回车

电脑会立刻重启。然后进入后，会发现界面和刚买的时候一样，需要设置，这边可以先跳过apple 账号设置。然后同样来到 `系统偏好设置`->`用户与群组`给之前的账号设置管理员权限，重启电脑即可。
<!--more-->
## 正确的改名方法

之前的改名方法在pc上好使，在mac上就非常麻烦了。在mac上改名正确的姿势应该是这样的。

1. 打开 `系统偏好设置`->`用户与群组` 解锁后，新增一个账号 ps:可以取任意名字 比如（Test） ，并且给这个账号管理员权限
2. 重启电脑，选择新建的账号 Test 登陆。
3. 再次来到  `系统偏好设置`->`用户与群组` 解锁后，选择要改名字的账号，右击直接修改即可。
4. 再次重启电脑 ok,搞定~

有强迫真的话，可以把刚刚新建的Test账号删掉。

## 电脑改名

电脑改名的话，直接进入 `系统偏好设置`->`共享` 修改计算机名字即可

## 硬盘改名

在 `访达`里面找到硬盘，右击改名即可

## terminal改名

电脑修改名字的时候会发现 terminal还是原来的名字。
1. 在 terminal 输入`sudo scutil --set HostName yourname`   例如`sudo scutil --set HostName jed` 就会把terminal的计算机名字改成`jed`了
2. 按照提示输入密码
3. 重启terminal,ok 搞定~

## 关闭terminal的计算机名字

如果觉得计算机名字太长，还可以关闭这个，让terminal只显示当前的用户名，显得更加清爽一点。

1. 在 terminal中输入 `sudo vim /etc/bashrc`  按提示输入密码
2. 进入vim，然后按一下 `i` 进入写入操作
3. 在`PS1='\h:\W \u\$ ' `前面加上`#`注释掉这行 也就是这样`#PS1='\h:\W \u\$ ' `    注意大小写和空格
4. 然后在下面一行写上`PS1='\W \$'`  注意大小写和空格
5. 按一下`ESC`,然后输入 `:wq!`
6. 重启terminal 大功告成！


